<!--
============================================
; Title:  role-list.component.html
; Author: Professor Krasso
; Modified by: Kevin Jones
; Date: 30 Sep 2021
; Description: Role list component HTML file
;===========================================
 -->

<div fxLayout="column">
  <mat-card style="margin: 1% 20% 1% 20%" class="mat-elevation-z8">
    <mat-card-title>Role Configuration</mat-card-title>
    <mat-card-subtitle>
      <button mat-button routerLink="/roles/create/new" color="gryffindor">
        Create
      </button>
    </mat-card-subtitle>

    <br />

    <mat-card-content *ngIf="roles">
      <table mat-table fxFlexFill [dataSource]="roles">
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef>Role</th>
          <td mat-cell *matCellDef="let element">
            {{ element.text }}
          </td>
        </ng-container>

        <ng-container matColumnDef="functions">
          <th mat-header-cell *matHeaderCellDef></th>

          <td mat-cell *matCellDef="let element">
            <button mat-icon-button routerLink="/roles/{{ element._id }}">
              <mat-icon color="secondary-icon">edit</mat-icon>
            </button>
            <button mat-icon-button (click)="delete(element._id, element.text)">
              <mat-icon color="gryffindor-icon">delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
